---
import Layout from "../layouts/Layout.astro";
import Header from "../components/header/Header.astro";
import Carrousel from "../components/carrouseles/Carrousel.astro"
import Contacto from "../components/contacto/Contacto.astro";
import Footer from "../components/footer/Footer.astro";
---

<Layout title="DentSalud 93">
  <Header />
  
  <section class="title flex justify-center items-center my-[40px] lg:my-[80px]">
    <main class="bg-primario flex items-center gap-5 px-[20px] py-[10px] rounded-[8px]">
        <div class="w-[50px] h-[50px] rounded-xl bg-secundario2 bg-opacity-50">
            <img src="/diente.png" alt="" class="w-[50px] h-[50px]">
        </div>
        <h3 class="lg:text-[32px] text-[18px] text-blanco">Nuestros Servicios</h3>
    </main>
</section>
<div class="title2 my-[20px] text-center lg:text-[24px] text-[20px]">
<p>Encontraras tratamientos especializados, ven y conocelos.</p>
</div>

<Carrousel />

<section class="title flex justify-center items-center my-[40px] lg:my-[80px]">
  <main class="bg-primario flex items-center gap-5 px-[20px] py-[10px] rounded-[8px]">
      <div class="w-[50px] h-[50px] rounded-xl bg-secundario2 bg-opacity-50">
          <img src="/diente.png" alt="" class="w-[50px] h-[50px]">
      </div>
      <h3 class="lg:text-[32px] text-[18px] text-blanco">Contacta con nosotros</h3>
  </main>
</section>
<div class="title2 my-[20px] text-center lg:text-[24px] text-[20px]">
<p>¡Estamos aquí para ti! ¿Tienes preguntas? ¿Necesitas una consulta rápida? No dudes en comunicarte con nosotros. Tu sonrisa es nuestra prioridad y estamos listos para ayudarte a conseguir la mejor versión de ti mismo.</p>
</div>

<Contacto />
<Footer />



</Layout>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Selecciona todos los botones con la clase "redirect-button"
const buttons = document.querySelectorAll(".redirect-button");

if (buttons.length > 0) {
  buttons.forEach((button) => {
    button.addEventListener("click", () => {
      // Obtén la URL desde un atributo personalizado, como data-url
      const url = button.getAttribute("data-url");
      if (url) {
        window.location.href = url; // Redirige a la URL especificada
      } else {
        console.error("El botón no tiene definida una URL en data-url.");
      }
    });
  });
} else {
  console.error("No se encontraron botones con la clase 'redirect-button'.");
}

    const toggleDiv = document.getElementById("toggleDiv");
    const toggleText = document.getElementById("toggleText");

    if (toggleDiv && toggleText) {
      toggleDiv.addEventListener("click", () => {
        toggleText.classList.toggle("hidden"); // Alterna entre mostrar y ocultar
      });
    } else {
      console.error("El elemento no se encontró en el DOM.");
    }
    // Obtener el año actual y actualizar el elemento con id "año"
    const yearElement = document.getElementById("año");
    if (yearElement) {
      const currentYear = new Date().getFullYear();
      yearElement.textContent = currentYear.toString();
    } else {
      console.error('Elemento con id "año" no encontrado.');
    }

    

    // Carrusel 2
    let currentPage2 = 0;
    const cards2 = document.querySelectorAll(".carousel2 .card");
    const totalCards2 = cards2.length;
    const cardsPerPage2 = 8;
    const carouselWrapper2 = document.querySelector(
      ".carousel2 .carousel-wrapper"
    ) as HTMLElement | null;
    const paginationButtons2 = document.querySelectorAll(
      ".carousel2 .pagination-button"
    );

    function changePage2(page: number) {
      if (carouselWrapper2 && paginationButtons2.length > 0) {
        currentPage2 = page;
        const offset2 = page * cardsPerPage2;

        // Mueve el carrusel
        carouselWrapper2.style.transform = `translateX(-${(offset2 * 100) / totalCards2}%)`;

        // Actualiza paginación activa
        paginationButtons2.forEach((button) =>
          button.classList.remove("active")
        );
        if (paginationButtons2[page]) {
          paginationButtons2[page].classList.add("active");
        }
      }
    }

    if (carouselWrapper2) {
      changePage2(0);
    } else {
      console.error('Elemento ".carousel2 .carousel-wrapper" no encontrado.');
    }
  });
</script>
