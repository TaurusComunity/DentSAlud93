---
// src/pages/noticia/[title].astro
import { fetchDentalNews } from '../../lib/fetchNews';
import Layout from "../layouts/Layout.astro";

// Obtener el parámetro 'title' de la URL
const { title } = Astro.params;
const dentalNews = await fetchDentalNews();
const newsItem = dentalNews.find((news) => news.title === decodeURIComponent(title));

if (!newsItem) {
  throw new Error('Noticia no encontrada');
}
---

<Layout title={newsItem.title}>
  <section class="min-h-[100vh] p-4">
    <h2 class="text-2xl font-bold mb-4">{newsItem.title}</h2>
    <img src={newsItem.image} alt={newsItem.title} class="w-full max-h-96 object-cover mb-4 rounded-lg" />
    <p class="text-gray-700 mb-8">{newsItem.description}</p>
    <a href={newsItem.url} target="_blank" rel="noopener" class="text-blue-500 hover:underline">
      Leer artículo completo
    </a>
  </section>
</Layout>
